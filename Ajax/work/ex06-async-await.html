<!DOCTYPE html>
<html lang="ko-kr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1> Async-await </h1>
    <script>
        const taskA = () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve("하나");
                }, 1000);
            });
        };

        const taskB = () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    //resolve("둘");
                    reject(new Error("에러 발생시킴"));
                }, 1000);
            });
        };

        const taskC = () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve("셋");
                }, 1000);
            });
        };



        //호출
        //async-await 예시
        const test = async function(){
            
            try{
            let resultA = await taskA(); //await을 붙이지 않으면 promise가 리턴됨
            console.log(resultA); //await가 없으면 아직 작업이 끝나지 않은 상태인 taskA의 promise가 리턴될 수 있음
            
            let resultB = await taskB();
            console.log(resultB); //
            
            let resultC = await taskC();
            console.log(resultC); //셋
            }catch(err){
                console.log(err); //promise가 reject되면 catch로 넘어감
            }


        }

        test();
        

        console.log("끝?");





    </script>
</body>

</html>