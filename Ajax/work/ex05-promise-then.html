<!DOCTYPE html>
<html lang="ko-kr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1> promise </h1>


    <script>
        // //콜백 헬 예시
        // setTimeout((() => {
        //     console.log("셋");
        //     setTimeout((() => {
        //         console.log("하나");
        //     }), 2000);
        //     setTimeout((() => {
        //         console.log("둘");
        //     }), 2000);
        //     setTimeout((() => {
        //         console.log("셋");
        //     }), 2000);
        // }), 2000);

        //setTimeOut 예시를 promise로 바꾼 예시
        const taskA = () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve("하나");
                }, 1000);
            });
        };

        const taskB = () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve("둘");
                    //reject(new Error("에러 발생시킴"));
                }, 1000);
            });
        };

        const taskC = () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve("셋");
                }, 1000);
            });
        };



        //호출
        taskA().then((resultA) => {
            console.log(resultA); //하나
            return taskB();
        }).then((resultB) => {
            console.log(resultB);
            return taskC();
        }).then((resultC) => {
            console.log(resultC); //셋
        }).catch((err) => {
            console.log(err); //에러 발생시 호출
        }).finally(() => {
            console.log("모든 작업 완료"); // 모든 작업이 완료된 후 호출
        });

        //메소드 체인처럼 순차적으로 호출하는 구조

        console.log("끝?");





    </script>
</body>

</html>